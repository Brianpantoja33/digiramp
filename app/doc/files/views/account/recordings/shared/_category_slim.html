<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>_category.slim</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            _category.slim
        </h1>
        <ul class="files">
            <li>views/account/recordings/shared/_category.slim</li>
            <li>Last modified: 2015-09-24 20:35:34 +0200</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      <ul><li>
<p>genre_category = <a href=":genre_category">params</a>.gsub(&#39; &#39;,
&#39;_&#39;).downcase</p>
</li><li>
<p>all_genre_ids  = eval(“Genre.#{genre_category}.ids”)</p>
</li><li>
<p>blog_post      = <a
href="../../../../../classes/BlogPost.html#method-c-cached_find">BlogPost.cached_find</a>,
blog)</p>
</li><li>
<p>selected_genre_ids = []</p>
</li><li>
<p>@recording.genre_tags.each do |genre_tag|</p>
<ul><li>
<p>selected_genre_ids &lt;&lt; genre_tag.genre.id</p>
</li></ul>
</li><li>
<p>all_genre_ids -= selected_genre_ids</p>
</li></ul>

<p>.panel</p>

<pre><code>.panel-body

  .col-sm-6
    h4 Select from
    table class=&quot;table table-hover table-bordered&quot;
      tbody
        - Genre.where(id: all_genre_ids).each do |genre_id|
          - genre = Genre.cached_find(genre_id) 
          tr
            td = genre.title
            td 
              .pull-right
                = link_to new_account_common_work_recording_genre_tag_path(@account, @common_work, @recording, genre_id: genre_id) do
                  -if @disable_more_genres
                    div class=&quot;btn btn-info btn-lg&quot; disabled=&#39;disabled&#39;
                      i class=&quot;fa fa-plus&quot;
                  -else
                    div class=&quot;btn btn-info btn-lg&quot;
                      i class=&quot;fa fa-plus&quot;

  .col-sm-6
    h4 Genre
    table class=&quot;table table-hover table-bordered&quot;
      tbody
        - Genre.where(id: selected_genre_ids).each do |genre_id|
          - genre = Genre.cached_find(genre_id) 
          - genre_tag_id = @recording.genre_tags.where(genre_id: genre_id).first
          tr
            td 
              = genre.title 

            td
              = genre.category_name

            td 
              .pull-right
                = link_to account_common_work_recording_genre_tag_path(@account, @common_work, @recording, genre_tag_id),  method: :delete do
                   div class=&quot;btn btn-danger btn-lg&quot; 
                    i class=&quot;fa fa-minus&quot;</code></pre>

<h2 id="label-render+-27shared-2Fline-27">render &#39;shared/line&#39;</h2>

<p>.pull-right</p>

<pre><code>== link_to &#39;Categories&#39;, account_common_work_recording_genre_tags_path(@account, @common_work, @recording), class: &#39;btn btn-default btn-lg&#39;
&#39;&amp;nbsp;
== link_to &#39;Done&#39;, edit_account_common_work_recording_path(@account, @common_work, @recording), class: &#39;btn btn-info btn-lg&#39;</code></pre>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>

    </div>
  </body>
</html>
